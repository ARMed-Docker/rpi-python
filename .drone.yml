#debug: true

matrix:
  BASE:
    - alpine
    - debian
  VERSION:
    - 2.7
    - 3.5

publish:
  docker:
#    environment:
#      - DOCKER_LAUNCH_DEBUG=true
    username: $$DOCKER_USER
    password: $$DOCKER_PASS
    email: $$DOCKER_EMAIL
    file: $$BASE/$$VERSION/Dockerfile
    repo: hypriottesting/rpi-python
    tag:
      - $$VERSION-$$BASE

notify:
  slack:
    webhook_url: $$SLACK_WEBHOOK_URL
    channel: buildstatus
    username: Drone
    when:
      started: false
      success: true
      failure: true
